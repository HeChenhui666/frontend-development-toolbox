# 前端开发工具箱 Chrome 扩展

一个功能强大的Chrome浏览器扩展，集成了多种实用的前端开发工具，帮助开发者提高工作效率。

## 功能特性

### 🔲 二维码工具

- **生成二维码**：自动获取当前标签页URL或手动输入内容，生成二维码
- **解码二维码**：上传二维码图片，自动识别并解码内容
- **下载保存**：生成的二维码可以下载保存
- **复制功能**：支持复制URL和解码结果
- **快速打开**：解码的URL可以直接在新标签页打开

### 🔗 URL参数编辑

- **自动解析**：自动获取并解析当前标签页的URL参数
- **可视化编辑**：以表格形式展示和编辑URL参数
- **实时预览**：实时显示编辑后的完整URL
- **快速操作**：支持添加、删除、修改参数，一键复制完整URL

### ⏰ 时间戳转换

- **实时显示**：实时显示当前时间和时间戳（秒/毫秒）
- **双向转换**：支持时间戳转日期时间，日期时间转时间戳
- **多种格式**：支持秒级和毫秒级时间戳
- **格式化显示**：标准化的日期时间格式（YYYY-MM-DD HH:mm:ss）

### 📄 JSON工具

- **JSON解析**：格式化、验证、压缩JSON字符串
- **JSON比对**：对比两个JSON对象，高亮显示差异
- **语法高亮**：美观的JSON展示格式
- **错误提示**：详细的错误信息提示

### 🎨 渐变背景生成器

- **线性/径向渐变**：支持线性渐变和径向渐变两种类型
- **多色停止点**：支持添加多个颜色停止点
- **角度调整**：线性渐变支持角度调整
- **颜色选择器**：HSL颜色选择器，支持透明度
- **实时预览**：实时预览渐变效果
- **CSS代码生成**：自动生成CSS渐变代码，一键复制

### 🔤 正则表达式测试

- **实时匹配**：输入正则表达式和测试文本，实时显示匹配结果
- **高亮显示**：匹配的文本会高亮显示
- **标志位设置**：支持设置全局(g)、忽略大小写(i)、多行(m)等标志位
- **预设正则**：内置常用正则表达式（手机号、身份证、邮箱、URL等）
- **错误提示**：正则表达式语法错误时显示详细提示

### 🖼️ 随机图片生成器

- **自定义尺寸**：输入宽度和高度（1-5000像素）生成随机图片
- **格式选择**：支持JPG和WebP格式
- **防缓存机制**：自动添加时间戳和随机UID参数防止浏览器缓存
- **图片预览**：实时预览生成的图片
- **便捷操作**：支持复制URL、下载图片、在新标签页打开
- **快速刷新**：一键刷新生成新的随机图片

## 安装步骤

### 1. 安装依赖

```bash
npm install
```

### 2. 构建项目

```bash
npm run build
```

### 3. 加载扩展

1. 打开Chrome浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目的 `dist` 目录

## 开发

### 开发模式（自动构建）

```bash
npm run dev
```

### 生产构建

```bash
npm run build
```

## 使用说明

### 🔲 二维码工具

**生成二维码：**

1. 点击扩展图标打开弹窗
2. 选择"二维码"标签，默认进入"生成"子标签
3. 系统会自动填充当前标签页的URL，也可以手动输入任意内容
4. 点击"生成二维码"按钮
5. 生成的二维码可以下载保存或复制

**解码二维码：**

1. 在"二维码"标签中选择"解码"子标签
2. 点击"选择二维码图片"按钮
3. 选择包含二维码的图片文件
4. 系统会自动识别并显示解码结果
5. 可以复制解码结果，如果是URL可以直接打开

### 🔗 URL参数编辑

1. 点击"URL参数"标签
2. 系统会自动获取并解析当前标签页的URL参数
3. 在参数列表中可以直接编辑参数的键和值
4. 点击"添加参数"可以添加新的参数
5. 点击参数行的删除按钮可以删除参数
6. 编辑后的完整URL会实时显示在顶部
7. 点击"复制URL"可以复制完整的URL

### ⏰ 时间戳转换

1. 点击"时间戳"标签
2. 顶部实时显示当前时间和对应的时间戳（秒/毫秒）
3. **时间戳转日期**：输入时间戳（秒或毫秒），点击"转换"按钮
4. **日期转时间戳**：选择日期和时间，点击"转换"按钮
5. 转换结果会显示在对应的输出框中

### 📄 JSON工具

**JSON解析：**

1. 点击"JSON"标签，选择"JSON解析"子标签
2. 输入或粘贴JSON字符串
3. 点击"格式化"按钮美化JSON
4. 点击"压缩"按钮压缩JSON（去除空格）
5. 如果JSON格式错误，会显示详细的错误信息

**JSON比对：**

1. 在"JSON"标签中选择"JSON比对"子标签
2. 在左右两个输入框中分别输入要对比的JSON
3. 系统会自动对比并高亮显示差异
4. 相同的部分显示为绿色，不同的部分显示为红色

### 🎨 渐变背景生成器

1. 点击"渐变背景"标签
2. 选择渐变类型（线性/径向）
3. 对于线性渐变，可以调整角度
4. 点击颜色停止点可以编辑颜色
5. 使用HSL颜色选择器调整颜色和透明度
6. 可以添加或删除颜色停止点
7. 实时预览渐变效果
8. 点击"复制CSS"按钮复制生成的CSS代码

### 🔤 正则表达式测试

1. 点击"正则"标签
2. 输入正则表达式模式，或从预设中选择常用正则
3. 输入要测试的文本
4. 选择正则标志位（g、i、m等）
5. 系统会实时显示匹配结果
6. 匹配的文本会高亮显示
7. 如果正则表达式有语法错误，会显示错误提示

### 🖼️ 随机图片生成器

1. 点击"随机图片"标签
2. 输入图片宽度和高度（1-5000像素）
3. 选择图片格式（默认JPG或WebP）
4. 点击"生成随机图片"按钮
5. 系统会自动生成图片URL并显示预览
6. 可以复制URL、下载图片或在新标签页打开
7. 点击刷新按钮可以生成新的随机图片
8. 图片URL会自动添加时间戳和随机UID参数防止浏览器缓存

## 技术栈

- **React 18** - UI框架
- **TypeScript** - 类型安全
- **Vite** - 构建工具
- **QRCode.js** - 二维码生成库
- **jsQR** - 二维码解码库
- **Chrome Extension API** - 浏览器扩展API

## 项目结构

```text
hch-frontend-development-toolbox/
├── src/
│   ├── App.tsx                 # 主应用组件
│   ├── App.css                 # 主样式文件
│   ├── main.tsx                # 入口文件
│   └── components/             # 功能组件目录
│       ├── QRCodeGenerator/    # 二维码生成器
│       ├── QRCodeDecoder/      # 二维码解码器
│       ├── URLParamsEditor/    # URL参数编辑器
│       ├── TimestampConverter/ # 时间戳转换器
│       ├── JSONTools/          # JSON工具（包含解析和比对）
│       ├── GradientGenerator/  # 渐变背景生成器
│       ├── RegexTester/        # 正则表达式测试器
│       └── RandomImageGenerator/ # 随机图片生成器
├── icons/                      # 扩展图标
├── dist/                       # 构建输出目录
├── scripts/                    # 构建脚本
├── manifest.json               # Chrome扩展清单文件
├── package.json                # 项目配置
└── vite.config.ts              # Vite配置
```

## 添加新功能

项目采用模块化设计，使用懒加载机制，可以轻松添加新功能：

### 步骤

1. **创建功能组件**
   在 `src/components/` 目录下创建新的功能组件目录，例如 `NewFeature/`，包含：
   - `index.tsx` - 组件主文件
   - `index.css` - 组件样式文件

2. **在 App.tsx 中添加配置**

   ```typescript
   // 1. 导入组件（使用懒加载）
   const NewFeature = lazy(() => import('./components/NewFeature'));
   
   // 2. 更新 FeatureTab 类型
   type FeatureTab = 'qrcode' | 'urlparams' | 'timestamp' | 'gradient' | 'json' | 'regex' | 'newfeature';
   
   // 3. 在 features 数组中添加配置
   {
     id: 'newfeature',
     name: '新功能',
     icon: '✨',
     component: <NewFeature />,
   }
   ```

3. **重新构建**

   ```bash
   npm run build
   ```

### 组件开发建议

- 使用 TypeScript 编写，确保类型安全
- 组件应该是独立的，不依赖其他功能模块
- 使用 CSS 模块或独立的 CSS 文件管理样式
- 遵循项目的代码风格和结构
- 如果功能包含子功能，可以参考 `QRCodeGenerator` 或 `JSONTools` 的实现方式

## 注意事项

### 通用注意事项

- 扩展需要访问当前标签页的权限（`activeTab`）以获取URL信息
- 每个功能模块都是独立的，互不影响
- 所有数据都在本地处理，不会上传到服务器

### 功能特定注意事项

**二维码工具：**

- 确保二维码图片清晰，否则可能无法正确识别
- 支持的图片格式：JPG, PNG, GIF等常见图片格式
- 生成的二维码大小可以根据内容自动调整

**URL参数编辑：**

- 不支持 `chrome://`、`chrome-extension://` 和 `about:` 协议的页面
- 参数键值对会自动进行URL编码/解码

**时间戳转换：**

- 时间戳支持秒级（10位）和毫秒级（13位）两种格式
- 日期时间格式为：YYYY-MM-DD HH:mm:ss

**JSON工具：**

- JSON解析支持标准的JSON格式
- JSON比对会进行深度比较，包括嵌套对象和数组

**渐变背景生成器：**

- 生成的CSS代码可以直接在项目中使用
- 支持最多10个颜色停止点

**正则表达式测试：**

- 支持JavaScript标准正则表达式语法
- 预设正则表达式可以根据需要修改

**随机图片生成器：**

- 使用 [Lorem Picsum](https://picsum.photos/) 服务生成随机图片
- 图片URL格式：`https://picsum.photos/宽度/高度?t=时间戳&uid=随机ID`
- 支持1-5000像素的图片尺寸
- 自动添加防缓存参数确保每次生成不同的图片

## 常见问题

### Q: 为什么无法获取当前页面的URL？

A: 请确保扩展已正确安装并拥有 `activeTab` 权限。某些特殊页面（如 `chrome://` 页面）无法获取URL是正常的。

### Q: 二维码解码失败怎么办？

A: 请确保：

- 图片清晰，二维码没有被遮挡
- 图片格式正确（支持 JPG、PNG、GIF 等）
- 二维码在图片中占据足够大的比例
- 图片清晰，二维码没有被遮挡
- 图片格式正确（支持 JPG、PNG、GIF 等）
- 二维码在图片中占据足够大的比例

### Q: 开发模式下修改代码后需要重新加载扩展吗？

A: 使用 `npm run dev` 启动开发模式后，代码会自动重新构建。你需要在 Chrome 扩展管理页面点击扩展的刷新按钮来加载最新版本。

### Q: 如何打包发布到 Chrome 应用商店？

A:

1. 运行 `npm run build` 构建生产版本
2. 在 Chrome 扩展管理页面点击"打包扩展程序"
3. 选择 `dist` 目录作为扩展根目录
4. 按照 Chrome Web Store 的发布流程提交

## 更新日志

### v1.1.0

- 🖼️ 随机图片生成器功能

### v1.0.0

- ✨ 初始版本发布
- 🔲 二维码生成和解码功能
- 🔗 URL参数编辑功能
- ⏰ 时间戳转换功能
- 📄 JSON工具（解析和比对）
- 🎨 渐变背景生成器
- 🔤 正则表达式测试工具

## 贡献

欢迎提交 Issue 和 Pull Request！

## 许可证

MIT License

---

**享受开发，提高效率！** 🚀
